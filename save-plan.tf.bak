resource "aws_instance" "vm" {
    ami           = data.aws_ami.os.id
    instance_type = "t2.micro"
    key_name = "gladveen"
    user_data = file("web.sh")

    tags = {
        Name = "Terraform-Example"
    }
}

data "aws_ami" "os" {
    most_recent = true
    owners = ["amazon"]

    filter {
        name = "name"
        values = ["ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*"]
    }
}

# output "web" {
#   value = "http://${aws_instance.vm.public_ip}:80"
# }